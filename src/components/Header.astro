---
import Search from "./Search.astro";
---

<header
  class="sticky top-0 z-50 bg-white/90 dark:bg-slate-950/90 backdrop-blur-sm border-b border-slate-200/50 dark:border-slate-800/50 py-4 px-4 sm:px-8 w-full"
>
  <div class="max-w-5xl mx-auto flex justify-between items-center">
    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-btn"
      class="md:hidden p-2 text-slate-600 dark:text-slate-300 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors"
      aria-label="Toggle menu"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        class="h-6 w-6"
        fill="none"
        viewBox="0 0 24 24"
        stroke="currentColor"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>

    <!-- Desktop Nav -->
    <nav class="hidden md:block">
      <ul class="flex space-x-6 text-base font-medium items-center">
        <li>
          <a href="/" class="hover:text-blue-600 transition-colors">Home</a>
        </li>
        <li>
          <a href="/media-kit" class="hover:text-blue-600 transition-colors"
            >Resume / Bio</a
          >
        </li>
        <li>
          <a href="/#contact" class="hover:text-blue-600 transition-colors"
            >Contact</a
          >
        </li>
        <li>
          <a href="/blog" class="hover:text-blue-600 transition-colors">Blog</a>
        </li>
        <li>
          <a href="/case-studies" class="hover:text-blue-600 transition-colors"
            >Case Studies</a
          >
        </li>
        <li>
          <a href="/know-me" class="hover:text-blue-600 transition-colors"
            >Know Me</a
          >
        </li>
        <li>
          <a
            href="/ai"
            class="hover:text-blue-600 transition-colors font-bold text-blue-600 dark:text-blue-400"
            >AI</a
          >
        </li>
        <li
          class="pl-4 border-l border-slate-200 dark:border-slate-800 flex items-center"
        >
          <Search />
        </li>
      </ul>
    </nav>

    <!-- Mobile Search Icon (Separate from menu) -->
    <div class="md:hidden flex items-center">
      <Search />
    </div>
  </div>

  <!-- Mobile Menu Dropdown -->
  <nav
    id="mobile-menu"
    class="hidden md:hidden absolute top-full left-0 w-full bg-white dark:bg-slate-950 border-b border-slate-200 dark:border-slate-800 shadow-xl"
  >
    <ul class="flex flex-col py-4 px-4 space-y-4 text-base font-medium">
      <li>
        <a href="/" class="block hover:text-blue-600 transition-colors">Home</a>
      </li>
      <li>
        <a href="/media-kit" class="block hover:text-blue-600 transition-colors"
          >Resume / Bio</a
        >
      </li>
      <li>
        <a href="/#contact" class="block hover:text-blue-600 transition-colors"
          >Contact</a
        >
      </li>
      <li>
        <a href="/blog" class="block hover:text-blue-600 transition-colors"
          >Blog</a
        >
      </li>
      <li>
        <a
          href="/case-studies"
          class="block hover:text-blue-600 transition-colors">Case Studies</a
        >
      </li>
      <li>
        <a href="/know-me" class="block hover:text-blue-600 transition-colors"
          >Know Me</a
        >
      </li>
      <li>
        <a
          href="/ai"
          class="block hover:text-blue-600 transition-colors font-bold text-blue-600 dark:text-blue-400"
          >AI</a
        >
      </li>
    </ul>
  </nav>
</header>

<script>
  // Mobile Menu Toggle logic
  const btn = document.getElementById("mobile-menu-btn");
  const menu = document.getElementById("mobile-menu");

  if (btn && menu) {
    btn.addEventListener("click", () => {
      menu.classList.toggle("hidden");
    });

    // Close menu when clicking a link
    menu.querySelectorAll("a").forEach((link) => {
      link.addEventListener("click", () => {
        menu.classList.add("hidden");
      });
    });
  }
</script>
