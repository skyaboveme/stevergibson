---
import BaseLayout from "../layouts/BaseLayout.astro";
import { getEntry } from "astro:content";

const nowData = await getEntry("now", "current");
if (!nowData) {
    throw new Error("Could not find 'now/current' entry");
}
const { updatedAt, focus_items } = nowData.data;

const pageTitle = "Now | Steve R Gibson";
const description = "What Steve R Gibson is focused on right now.";
---

<BaseLayout title={pageTitle} description={description}>
    <section class="max-w-3xl mx-auto space-y-12 mb-20">
        <header class="space-y-4">
            <h1 class="text-4xl font-bold text-slate-900 dark:text-white">
                Now
            </h1>
            <p class="text-lg text-slate-600 dark:text-slate-400">
                What Iâ€™m focused on at this exact moment. inspired by <a
                    href="https://nownownow.com/about"
                    class="underline hover:text-blue-600 transition-colors"
                >
                    nownownow.com
                </a>
            </p>
            <div class="text-sm text-slate-500 dark:text-slate-500 font-mono">
                Last updated: {updatedAt}
            </div>
        </header>

        <article class="prose dark:prose-invert max-w-none space-y-8">
            {
                focus_items.map((item) => (
                    <div class="bg-slate-50 dark:bg-slate-900 p-8 rounded-2xl border border-slate-200 dark:border-slate-800">
                        <div class="flex items-start gap-4">
                            <span class="text-2xl">{item.emoji}</span>
                            <div>
                                <h3 class="text-xl font-bold text-slate-900 dark:text-white mt-0 mb-4">
                                    {item.title}
                                </h3>
                                <p
                                    class="text-slate-600 dark:text-slate-300"
                                    set:html={item.description}
                                />
                            </div>
                        </div>
                    </div>
                ))
            }
        </article>

        <div class="border-t border-slate-200 dark:border-slate-800 pt-8 mt-12">
            <p class="text-slate-500 dark:text-slate-400 italic text-sm">
                This page is a commitment to working with the garage door up. It
                reminds me to prioritize deep work over busy work.
            </p>
        </div>
    </section>
</BaseLayout>
